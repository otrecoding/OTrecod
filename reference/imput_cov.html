<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>imput_cov() — imput_cov • OTrecod</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="imput_cov() — imput_cov"><meta property="og:description" content="This function performs imputations on incomplete covariates, whatever their types, using functions from the package MICE (Van Buuren's Multiple Imputation) or functions from the package missMDA (Simple Imputation with Multivariate data analysis)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">OTrecod</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/an-application-of-the-OTrecod-package.html">an-application-of-the-OTrecod-package</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>imput_cov()</h1>
    
    <div class="hidden name"><code>imput_cov.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function performs imputations on incomplete covariates, whatever their types, using functions from the package <span class="pkg">MICE</span> (Van Buuren's Multiple Imputation) or functions from the package <span class="pkg">missMDA</span> (Simple Imputation with Multivariate data analysis).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">imput_cov</span><span class="op">(</span></span>
<span>  <span class="va">dat1</span>,</span>
<span>  indcol <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">dat1</span><span class="op">)</span>,</span>
<span>  R_mice <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  meth <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"pmm"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">dat1</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  missMDA <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  NB_COMP <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  seed_choice <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">1e+06</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>dat1</dt>
<dd><p>a data.frame containing the variables to be imputed and those involved in the imputations</p></dd>


<dt>indcol</dt>
<dd><p>a vector of integers. The corresponding column indexes (or numbers) corresponding to the variables to be imputed and those involved in the imputations.</p></dd>


<dt>R_mice</dt>
<dd><p>an integer. The number of imputed database generated with MICE method (5 by default).</p></dd>


<dt>meth</dt>
<dd><p>a vector of characters which specifies the imputation method to be used for each column in <code>dat1</code>.
"pmm" for continuous covariates or by default option, "logreg" for binary covariates, "polr" for ordinal covariates, "polyreg" for categorical covariates (no order), (cf <code><a href="https://amices.org/mice/reference/mice.html" class="external-link">mice</a></code> for more details).</p></dd>


<dt>missMDA</dt>
<dd><p>a boolean. If <code>TRUE</code>, missing values are imputed using the factoral analysis for mixed data (<code><a href="https://rdrr.io/pkg/missMDA/man/imputeFAMD.html" class="external-link">imputeFAMD</a></code>) from the <span class="pkg">missMDA</span> package (2).</p></dd>


<dt>NB_COMP</dt>
<dd><p>an integer corresponding to the number of components used in FAMD to predict the missing entries (3 by default) when the <code>missMDA</code> option is TRUE.</p></dd>


<dt>seed_choice</dt>
<dd><p>an integer used as argument by the set.seed() for offsetting the random number generator (Random integer by default)</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list of 3 or 4 objects (depending on the missMDA argument). The first three following objects if <code>missMDA</code> = TRUE, otherwise 4 objects are returned:</p>
<dl><dt>RAW</dt>
<dd><p>a data.frame corresponding to the raw database</p></dd>

<dt>IMPUTE</dt>
<dd><p>a character indicating the type of selected imputation</p></dd>

<dt>DATA_IMPUTE</dt>
<dd><p>a data.frame corresponding to the completed (consensus if multiple imputations) database</p></dd>

<dt>MICE_IMPS</dt>
<dd><p>only if missMDA = FALSE. A list object containing the R imputed databases generated by MICE</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>By default, the function <code>impute_cov</code> handles missing information using multivariate imputation by chained equations (MICE, see (1) for more details about the method) by integrating in its syntax the function <code><a href="https://amices.org/mice/reference/mice.html" class="external-link">mice</a></code>.
All values of this last function are taken by default, excepted the required number of multiple imputations, which can be fixed by using the argument <code>R_mice</code>, and the chosen imputation method for each variable (<code>meth</code> argument),
that corresponds to the argument <code>defaultMethod</code> of the function <code><a href="https://amices.org/mice/reference/mice.html" class="external-link">mice</a></code>.
When multiple imputations are required (for MICE only), each missing information is imputed by a consensus value:
the average of the candidate values will be retained for numerical variables, while the most frequent class will be remained for categorical variables (ordinal or not).
The output <code>MICE_IMPS</code> stores the imputed databases to allow users to build their own consensus values by themselves and(or) to eventually assess the variabilities related to the proposed imputed values if necessary.
For this method, a random number generator must be fixed or sampled using the argument <code>seed_choice</code>.</p>
<p>When the argument <code>missMDA</code> is equalled to <code>TRUE</code>, incomplete values are replaced (single imputation) using a method based on dimensionality reduction called factor analysis for mixed data (FAMD) using the the <code><a href="https://rdrr.io/pkg/missMDA/man/imputeFAMD.html" class="external-link">imputeFAMD</a></code> function of the <span class="pkg">missMDA</span> package (2).
Using this approach, the function <code>imput_cov</code> keeps all the default values integrated in the function <code>imputeFAMD</code> excepted the number of dimensions used for FAMD which can be fixed by users (3 by default).</p>
    </div>
    <div id="references">
    <h2>References</h2>
    
<ol><li><p>van Buuren, S., Groothuis-Oudshoorn, K. (2011). mice: Multivariate Imputation by Chained Equations in R. Journal of Statistical Software, 45(3), 1–67. urlhttps://www.jstatsoft.org/v45/i03/</p></li>
<li><p>Josse J, Husson F (2016). missMDA: A Package for Handling Missing Values in Multivariate Data Analysis. Journal of Statistical Software, 70(1), 1–31. <a href="https://doi.org/10.18637/jss.v070.i01" class="external-link">doi:10.18637/jss.v070.i01</a></p></li>
</ol></div>
    <div id="author">
    <h2>Author</h2>
    <p>Gregory Guernec</p>
<p><a href="mailto:otrecod.pkg@gmail.com">otrecod.pkg@gmail.com</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Imputation of all incomplete covariates in the table simu_data:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">simu_data</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Here we keep the complete variable "Gender" in the imputation model.</span></span></span>
<span class="r-in"><span><span class="co"># Using MICE (REP = 3):</span></span></span>
<span class="r-in"><span><span class="va">imput_mice</span> <span class="op">&lt;-</span> <span class="fu">imput_cov</span><span class="op">(</span><span class="va">simu_data</span>,</span></span>
<span class="r-in"><span>  indcol <span class="op">=</span> <span class="fl">4</span><span class="op">:</span><span class="fl">8</span>, R_mice <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>  meth <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"logreg"</span>, <span class="st">"polyreg"</span>, <span class="st">"polr"</span>, <span class="st">"logreg"</span>, <span class="st">"pmm"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">imput_mice</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Length Class      Mode     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RAW         8      data.frame list     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> IMPUTE      1      -none-     character</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DATA_IMPUTE 5      data.frame list     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MICE_IMPS   3      mild       list     </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using FAMD (NB_COMP = 3):</span></span></span>
<span class="r-in"><span><span class="va">imput_famd</span> <span class="op">&lt;-</span> <span class="fu">imput_cov</span><span class="op">(</span><span class="va">simu_data</span>,</span></span>
<span class="r-in"><span>  indcol <span class="op">=</span> <span class="fl">4</span><span class="op">:</span><span class="fl">8</span>,</span></span>
<span class="r-in"><span>  meth <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"logreg"</span>, <span class="st">"polyreg"</span>, <span class="st">"polr"</span>, <span class="st">"logreg"</span>, <span class="st">"pmm"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  missMDA <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">imput_famd</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Length Class      Mode     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RAW         8      data.frame list     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> IMPUTE      1      -none-     character</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DATA_IMPUTE 5      data.frame list     </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Gregory Guernec, Valerie Gares.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5.9000.</p>
</div>

      </footer></div>

  


  

  </body></html>

